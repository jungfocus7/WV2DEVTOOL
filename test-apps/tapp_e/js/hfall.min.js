const hfnum=Object.freeze({isNumber:tv=>"number"==typeof tv,notNumber:tv=>"number"!=typeof tv,isFloat:tv=>tv%1!=0,isMinus:tv=>tv<0,random:tv=>Math.round(Math.random()*(tv-1)),randRange:(min,max)=>min+Math.round(Math.random()*(max-min)),isOdd:tv=>tv%2>0,isEven:tv=>tv%2==0}),hfstr=Object.freeze({isStr:str=>"string"==typeof str&&""!==str.trim(),getLastNum:(str,token="_")=>{const ti=str.lastIndexOf(token)+1;return~~str.substring(ti)},str2Ab:str=>{const l=str.length;let tab=new Uint16Array(new ArrayBuffer(2*l));for(let i=0;i<l;i++)tab[i]=str.charCodeAt(i);return tab},ab2Str:ab=>String.fromCharCode.apply(null,ab)}),hfarr=Object.freeze({notEmpty:arr=>Array.isArray(arr)&&arr.length>0,contains:(arr,te)=>{if(!1===hfarr.notEmpty(arr))return!1;let tb=!1;const l=arr.length;for(let i=0;i<l;i++)if(arr[i]===te){tb=!0;break}return tb},shuffle:arr=>{if(!1===hfarr.notEmpty(arr))return;const l=arr.length;for(let i=0;i<l;i++){let te=arr[i],ti=hfnum.randRange(0,l-1);arr[i]=arr[ti],arr[ti]=te}},copy:arr=>!1===hfarr.notEmpty(arr)?null:arr.slice()}),hfdtime=Object.freeze({timeStamp:td=>`${td.getFullYear().toString().substring(2)}/${(td.getMonth()+1).toString().padStart(2,"0")}/${td.getDate().toString().padStart(2,"0")} ${td.getHours().toString().padStart(2,"0")}:${td.getMinutes().toString().padStart(2,"0")}:${td.getSeconds().toString().padStart(2,"0")}.${td.getMilliseconds().toString().padStart(3,"0")}`,format:(fs1,td)=>{const mc1=Array.from(fs1.matchAll(/\\./g)),len=fs1.length-mc1.length,buf1=new Uint16Array(new ArrayBuffer(2*len));let i=0;for(const m1 of mc1){const fi=m1.index-i,tv=m1[0],li=tv.length-1;buf1[fi]=tv[li].charCodeAt(0),++i}const buf2=new Uint16Array(new ArrayBuffer(2*len)),ke=fs1.length-1;i=0;let bp=!1;for(let k=0;k<=ke;++k){const tc=fs1[k];if(bp)bp=!1,buf2[i++]="\0".charCodeAt(0);else{if(bp="\\"===tc,bp&&k<ke)continue;buf2[i++]=tc.charCodeAt(0)}}let mrs=String.fromCharCode.apply(null,buf2);const fn_r=(tx,l1)=>{const l2=tx.length;return l1<l2?tx.substring(l2-l1):l1>l2?tx.padStart(l1,"0"):tx};for(mrs=mrs.replace(/y+|M+|d+|H+|m+|s+|f+/g,tx=>((tx,td)=>{const l1=tx.length;return"y"===tx[0]?fn_r(td.getFullYear().toString(),l1):"M"===tx[0]?fn_r((td.getMonth()+1).toString(),l1):"d"===tx[0]?fn_r(td.getDate().toString(),l1):"H"===tx[0]?fn_r(td.getHours().toString(),l1):"m"===tx[0]?fn_r(td.getMinutes().toString(),l1):"s"===tx[0]?fn_r(td.getSeconds().toString(),l1):"f"===tx[0]?fn_r(td.getMilliseconds().toString(),l1):tx})(tx,td)),i=0;i<len;++i){"\0"===String.fromCharCode(buf1[i])&&(buf1[i]=mrs[i].charCodeAt(0))}return String.fromCharCode.apply(null,buf1)}}),hfCountTask=Object.freeze(class{constructor(countStart=1,countEnd=10,plusValue=1){this.#countStart=countStart,this.#countEnd=countEnd,this.#plusValue=plusValue,this.#count=countStart,Object.seal(this)}#countStart=0;get countStart(){return this.#countStart}#countEnd=0;get countEnd(){return this.#countEnd}#plusValue=0;get plusValue(){return this.#plusValue}#count=0;get count(){return this.#count}prev(){const tc=this.#count-this.#plusValue;return!(tc<this.#countStart)&&(this.#count=tc,!0)}next(){const tc=this.#count+this.#plusValue;return!(tc>this.#countEnd)&&(this.#count=tc,!0)}reset(){this.#count=this.#countStart}resetEnd(){this.#count=this.#countEnd}}),hfNumberRanger=Object.freeze(class{constructor(min=0,len=10){this.#min=min,this.#len=len<1?1:len,this.#max=this.#min-1+this.#len,this.#now=this.#min,Object.seal(this)}#min=0;get min(){return this.#min}#len=0;get len(){return this.#len}#max=0;get max(){return this.#max}check(vn=0){let rv=vn;return rv<this.#min?rv=this.#min:rv>this.#max&&(rv=this.#max),rv}#now=0;get now(){return this.#now}set now(vn=0){this.#now=this.check(vn)}add(vn=0){const rv=this.check(this.#now+vn);return this.#now=rv,rv}mul(vn=0){const rv=this.check(this.#now*vn);return this.#now=rv,rv}div(vn=0){const rv=this.check(this.#now/vn);return this.#now=rv,rv}toString(){return`\nmin: ${this.#min}, len: ${this.#len}, max: ${this.#max}, now: ${this.#now}\n        `.trim()}get ratio(){return Math.abs(this.#now-this.#min)/Math.abs(this.#max-this.#min)}}),hfEasingKind=Object.freeze({easeIn:"easeIn",easeOut:"easeOut",easeInOut:"easeInOut"}),hfEaseBack=Object.freeze(class{constructor(ek=null,s=NaN){ek===hfEasingKind.easeIn?this.#fn=this.#fn_easeIn:ek===hfEasingKind.easeOut?this.#fn=this.#fn_easeOut:this.#fn=this.#fn_easeInOut,Number.isFinite(s)&&(this.#ps=s),Object.seal(this)}#fn=null;get fn(){return this.#fn}#ps=1.70158;#fn_easeIn(t,b,e,d){let s=this.#ps;return e*(t/=d)*t*((s+1)*t-s)+b}#fn_easeOut(t,b,e,d){let s=this.#ps;return e*((t=t/d-1)*t*((s+1)*t+s)+1)+b}#fn_easeInOut(t,b,e,d){let s=this.#ps;return(t/=d/2)<1?e/2*(t*t*((1+(s*=1.525))*t-s))+b:e/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+b}}),hfEaseBounce=Object.freeze(class{constructor(ek=null){ek===hfEasingKind.easeIn?this.#fn=this.#fn_easeIn:ek===hfEasingKind.easeOut?this.#fn=this.#fn_easeOut:this.#fn=this.#fn_easeInOut,Object.seal(this)}#fn=null;get fn(){return this.#fn}#fn_easeIn(t,b,e,d){return e-this.#fn_easeOut(d-t,0,e,d)+b}#fn_easeOut(t,b,e,d){return(t/=d)<1/2.75?e*(7.5625*t*t)+b:t<2/2.75?e*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?e*(7.5625*(t-=2.25/2.75)*t+.9375)+b:e*(7.5625*(t-=2.625/2.75)*t+.984375)+b}#fn_easeInOut(t,b,e,d){return t<d/2?.5*this.#fn_easeIn(2*t,0,e,d)+b:.5*this.#fn_easeOut(2*t-d,0,e,d)+.5*e+b}}),hfEaseCircular=Object.freeze(class{constructor(ek=null){ek===hfEasingKind.easeIn?this.#fn=this.#fn_easeIn:ek===hfEasingKind.easeOut?this.#fn=this.#fn_easeOut:this.#fn=this.#fn_easeInOut,Object.seal(this)}#fn=null;get fn(){return this.#fn}#fn_easeIn(t,b,e,d){return-e*(Math.sqrt(1-(t/=d)*t)-1)+b}#fn_easeOut(t,b,e,d){return e*Math.sqrt(1-(t=t/d-1)*t)+b}#fn_easeInOut(t,b,e,d){return(t/=d/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+b:e/2*(Math.sqrt(1-(t-=2)*t)+1)+b}}),hfEaseElastic=Object.freeze(class{constructor(ek=null,a=NaN,p=NaN){ek===hfEasingKind.easeIn?this.#fn=this.#fn_easeIn:ek===hfEasingKind.easeOut?this.#fn=this.#fn_easeOut:this.#fn=this.#fn_easeInOut,Number.isFinite(a)&&(this.#pa=a),Number.isFinite(p)&&(this.#pp=p),Object.seal(this)}#fn=null;get fn(){return this.#fn}#pa=0;#pp=0;#fn_easeIn(t,b,e,d){let a=this.#pa,p=this.#pp;if(0==t)return b;if(1==(t/=d))return b+e;p||(p=.3*d);let s=0;return!a||a<Math.abs(e)?(a=e,s=p/4):s=p/(2*Math.PI)*Math.asin(e/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)+b}#fn_easeOut(t,b,e,d){let a=this.#pa,p=this.#pp;if(0==t)return b;if(1==(t/=d))return b+e;p||(p=.3*d);let s=0;return!a||a<Math.abs(e)?(a=e,s=p/4):s=p/(2*Math.PI)*Math.asin(e/a),a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+e+b}#fn_easeInOut(t,b,e,d){let a=this.#pa,p=this.#pp;if(0==t)return b;if(2==(t/=d/2))return b+e;p||(p=d*(.3*1.5));let s=0;return!a||a<Math.abs(e)?(a=e,s=p/4):s=p/(2*Math.PI)*Math.asin(e/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*-.5+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+e+b}}),hfEaseExponential=Object.freeze(class{constructor(ek=null){ek===hfEasingKind.easeIn?this.#fn=this.#fn_easeIn:ek===hfEasingKind.easeOut?this.#fn=this.#fn_easeOut:this.#fn=this.#fn_easeInOut,Object.seal(this)}#fn=null;get fn(){return this.#fn}#fn_easeIn(t,b,e,d){return 0==t?b:e*Math.pow(2,10*(t/d-1))+b}#fn_easeOut(t,b,e,d){return t==d?b+e:e*(1-Math.pow(2,-10*t/d))+b}#fn_easeInOut(t,b,e,d){return 0==t?b:t==d?b+e:(t/=d/2)<1?e/2*Math.pow(2,10*(t-1))+b:e/2*(2-Math.pow(2,-10*--t))+b}}),hfTween=Object.freeze(class{static ET_UPDATE="update";static ET_END="end";constructor(current=0,duration=36,easing=null,cbf=null){const md=this.#md;md.running=!1,md.begin=current,md.end=current,md.current=current,md.time=0,md.duration=duration,md.easing=easing??new hfEaseCircular(hfEasingKind.easeInOut),md.cbf=cbf,md.fnfrc=this.#fn_loopFrame.bind(this),Object.seal(this)}#md=Object.seal({running:!1,begin:0,end:0,current:0,time:0,duration:0,easing:null,cbf:null,fnfrc:null,fid:-1});get running(){return this.#md.running}get begin(){return this.#md.begin}get end(){return this.#md.end}get current(){return this.#md.current}get time(){return this.#md.time}get duration(){return this.#md.duration}#fn_clearFrame(){const md=this.#md;-1!==md.fid&&(cancelAnimationFrame(md.fid),md.fid=-1)}#fn_loopFrame(_){const md=this.#md;!1!==md.running&&md.time<md.duration&&(++md.time,md.current=md.easing.fn(md.time,md.begin,md.end,md.duration),md.cbf(hfTween.ET_UPDATE,md.current),md.time>=md.duration?(md.cbf(hfTween.ET_END,md.current),this.stop()):md.fid=requestAnimationFrame(md.fnfrc))}stop(){const md=this.#md;!0===md.running&&(this.#fn_clearFrame(),md.running=!1)}fromTo(begin,end){const md=this.#md;!0===md.running&&this.stop(),md.time=0,md.begin=begin,md.end=end-begin,md.current=begin,md.running=!0,md.fid=requestAnimationFrame(md.fnfrc)}to(end){const md=this.#md;this.fromTo(md.current,end)}});class hfWeich extends EventTarget{static ET_UPDATE="update";static ET_END="end";constructor(now,speed=.3){super(),this.#running=!1,this.#end=now,this.#now=now,this.#speed=speed,this.#fnfrc=this.#loopFrame.bind(this),Object.seal(this)}#running=!1;get running(){return this.#running}#end=0;get end(){return this.#end}#now=0;get now(){return this.#now}#speed=0;get speed(){return this.#speed}#fnfrc=null;#fid=-1;#clearFrame(){-1!==this.#fid&&(cancelAnimationFrame(this.#fid),this.#fid=-1)}#loopFrame(_){if(!1===this.#running)return;const dst=this.#end-this.#now;Math.abs(dst)<1?(this.#now=this.#end,this.dispatchEvent(new Event(hfWeich.ET_UPDATE)),this.dispatchEvent(new Event(hfWeich.ET_END)),this.stop()):(this.#now=this.#now+dst*this.#speed,this.dispatchEvent(new Event(hfWeich.ET_UPDATE))),this.#fid=requestAnimationFrame(this.#fnfrc)}stop(){!0===this.#running&&(this.#clearFrame(),this.#running=!1)}fromTo(end,now,speed=NaN){!0===this.#running&&this.stop(),this.#end=end,this.#now=now,!1===Number.isNaN(speed)&&(this.#speed=speed),this.#running=!0,this.#fid=requestAnimationFrame(this.#fnfrc)}to(end,speed=NaN){this.fromTo(end,this.#now,speed)}}Object.freeze(hfWeich);export{hfCountTask,hfEaseBack,hfEaseBounce,hfEaseCircular,hfEaseElastic,hfEaseExponential,hfEasingKind,hfNumberRanger,hfTween,hfWeich,hfarr,hfdtime,hfnum,hfstr};
//# sourceMappingURL=hfall.min.js.map
